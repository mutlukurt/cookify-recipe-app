(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const ee=[{id:1,title:"Avocado Toast Supreme",categories:["breakfast","quick"],tags:["healthy","vegan"],timeMinutes:10,difficulty:"easy",calories:320,rating:4.5,servingsBase:2,ingredients:[{name:"Whole grain bread",unit:"slices",quantityBase:2},{name:"Ripe avocado",unit:"pcs",quantityBase:1},{name:"Cherry tomatoes",unit:"pcs",quantityBase:6},{name:"Red pepper flakes",unit:"pinch",quantityBase:1},{name:"Lemon juice",unit:"tbsp",quantityBase:1},{name:"Salt",unit:"pinch",quantityBase:1}],steps:["Toast the bread slices until golden brown","Mash the avocado with lemon juice and salt","Spread avocado mixture on toast","Top with halved cherry tomatoes and red pepper flakes"],image:"🥑",imageUrl:"https://images.pexels.com/photos/1351238/pexels-photo-1351238.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:2,title:"Classic Chicken Caesar Salad",categories:["lunch","dinner"],tags:["protein","salad"],timeMinutes:25,difficulty:"medium",calories:450,rating:4.8,servingsBase:4,ingredients:[{name:"Chicken breast",unit:"lbs",quantityBase:1},{name:"Romaine lettuce",unit:"heads",quantityBase:2},{name:"Parmesan cheese",unit:"cup",quantityBase:.5},{name:"Caesar dressing",unit:"cup",quantityBase:.25},{name:"Croutons",unit:"cup",quantityBase:1},{name:"Olive oil",unit:"tbsp",quantityBase:2}],steps:["Season and grill chicken breast until cooked through","Chop romaine lettuce into bite-sized pieces","Slice grilled chicken into strips","Toss lettuce with dressing and parmesan","Top with chicken strips and croutons"],image:"🥗",imageUrl:"https://images.pexels.com/photos/2097090/pexels-photo-2097090.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:3,title:"Chocolate Chip Cookies",categories:["dessert"],tags:["sweet","baking"],timeMinutes:45,difficulty:"easy",calories:180,rating:4.9,servingsBase:24,ingredients:[{name:"All-purpose flour",unit:"cups",quantityBase:2.25},{name:"Butter",unit:"cup",quantityBase:1},{name:"Brown sugar",unit:"cup",quantityBase:.75},{name:"White sugar",unit:"cup",quantityBase:.5},{name:"Eggs",unit:"pcs",quantityBase:2},{name:"Chocolate chips",unit:"cups",quantityBase:2},{name:"Vanilla extract",unit:"tsp",quantityBase:1},{name:"Baking soda",unit:"tsp",quantityBase:1}],steps:["Preheat oven to 375°F","Cream butter with both sugars","Beat in eggs and vanilla","Mix in flour and baking soda","Fold in chocolate chips","Drop spoonfuls on baking sheet","Bake for 9-11 minutes until golden"],image:"🍪",imageUrl:"https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:4,title:"Quinoa Buddha Bowl",categories:["lunch","dinner"],tags:["healthy","vegan","protein"],timeMinutes:35,difficulty:"medium",calories:380,rating:4.3,servingsBase:2,ingredients:[{name:"Quinoa",unit:"cup",quantityBase:1},{name:"Sweet potato",unit:"pcs",quantityBase:1},{name:"Chickpeas",unit:"cup",quantityBase:1},{name:"Spinach",unit:"cups",quantityBase:2},{name:"Tahini",unit:"tbsp",quantityBase:3},{name:"Lemon juice",unit:"tbsp",quantityBase:2},{name:"Olive oil",unit:"tbsp",quantityBase:2}],steps:["Cook quinoa according to package instructions","Roast diced sweet potato with olive oil","Drain and rinse chickpeas","Whisk tahini with lemon juice for dressing","Arrange all components in bowls","Drizzle with tahini dressing"],image:"🥙",imageUrl:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:5,title:"Berry Smoothie Bowl",categories:["breakfast"],tags:["healthy","vegan","quick"],timeMinutes:8,difficulty:"easy",calories:290,rating:4.6,servingsBase:1,ingredients:[{name:"Frozen mixed berries",unit:"cup",quantityBase:1},{name:"Banana",unit:"pcs",quantityBase:.5},{name:"Almond milk",unit:"cup",quantityBase:.5},{name:"Granola",unit:"tbsp",quantityBase:3},{name:"Fresh berries",unit:"cup",quantityBase:.25},{name:"Chia seeds",unit:"tsp",quantityBase:1}],steps:["Blend frozen berries, banana, and almond milk until thick","Pour into bowl","Top with granola, fresh berries, and chia seeds","Serve immediately"],image:"🫐",imageUrl:"https://images.pexels.com/photos/1092730/pexels-photo-1092730.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:6,title:"Beef Stir Fry",categories:["dinner"],tags:["protein","quick"],timeMinutes:20,difficulty:"medium",calories:420,rating:4.4,servingsBase:3,ingredients:[{name:"Beef strips",unit:"lbs",quantityBase:1},{name:"Bell peppers",unit:"pcs",quantityBase:2},{name:"Broccoli",unit:"cups",quantityBase:2},{name:"Soy sauce",unit:"tbsp",quantityBase:3},{name:"Garlic",unit:"cloves",quantityBase:3},{name:"Ginger",unit:"tbsp",quantityBase:1},{name:"Vegetable oil",unit:"tbsp",quantityBase:2}],steps:["Heat oil in large pan or wok","Cook beef strips until browned","Add garlic and ginger, stir for 30 seconds","Add vegetables and stir-fry for 3-4 minutes","Add soy sauce and toss everything together","Serve hot over rice"],image:"🥩",imageUrl:"https://images.pexels.com/photos/343871/pexels-photo-343871.jpeg?auto=compress&cs=tinysrgb&w=400"}],C=Object.freeze(Object.defineProperty({__proto__:null,recipes:ee},Symbol.toStringTag,{value:"Module"})),te="modulepreload",ne=function(e){return"/cookify-recipe-app/"+e},A={},L=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=ne(l),l in A)return;A[l]=!0;const h=l.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${x}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":te,h||(m.as="script"),m.crossOrigin="",m.href=l,u&&m.setAttribute("nonce",u),document.head.appendChild(m),h)return new Promise((J,X)=>{m.addEventListener("load",J),m.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&r(u.reason);return t().catch(r)})};var D={exports:{}},c={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R=Symbol.for("react.transitional.element"),ie=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),de=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),q=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,z={};function b(e,t,n){this.props=e,this.context=t,this.refs=z,this.updater=n||F}b.prototype.isReactComponent={};b.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Y(){}Y.prototype=b.prototype;function T(e,t,n){this.props=e,this.context=t,this.refs=z,this.updater=n||F}var $=T.prototype=new Y;$.constructor=T;N($,b.prototype);$.isPureReactComponent=!0;var M=Array.isArray,p={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function S(e,t,n,s,i,r){return n=r.ref,{$$typeof:R,type:e,key:t,ref:n!==void 0?n:null,props:r}}function he(e,t){return S(e.type,t,void 0,void 0,void 0,e.props)}function I(e){return typeof e=="object"&&e!==null&&e.$$typeof===R}function fe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var j=/\/+/g;function _(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fe(""+e.key):t.toString(36)}function P(){}function ve(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(P,P):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function k(e,t,n,s,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(r){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case R:case ie:o=!0;break;case U:return o=e._init,k(o(e._payload),t,n,s,i)}}if(o)return i=i(e),o=s===""?"."+_(e,0):s,M(i)?(n="",o!=null&&(n=o.replace(j,"$&/")+"/"),k(i,t,n,"",function(h){return h})):i!=null&&(I(i)&&(i=he(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(j,"$&/")+"/")+o)),t.push(i)),1;o=0;var u=s===""?".":s+":";if(M(e))for(var l=0;l<e.length;l++)s=e[l],r=u+_(s,l),o+=k(s,t,n,r,i);else if(l=pe(e),typeof l=="function")for(e=l.call(e),l=0;!(s=e.next()).done;)s=s.value,r=u+_(s,l++),o+=k(s,t,n,r,i);else if(r==="object"){if(typeof e.then=="function")return k(ve(e),t,n,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function E(e,t,n){if(e==null)return e;var s=[],i=0;return k(e,s,"","",function(r){return t.call(n,r,i++)}),s}function ge(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var H=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function me(){}c.Children={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(t){return t})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};c.Component=b;c.Fragment=se;c.Profiler=oe;c.PureComponent=T;c.StrictMode=re;c.Suspense=ue;c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p;c.__COMPILER_RUNTIME={__proto__:null,c:function(e){return p.H.useMemoCache(e)}};c.cache=function(e){return function(){return e.apply(null,arguments)}};c.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=N({},e.props),i=e.key,r=void 0;if(t!=null)for(o in t.ref!==void 0&&(r=void 0),t.key!==void 0&&(i=""+t.key),t)!Q.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(s[o]=t[o]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];s.children=u}return S(e.type,i,void 0,void 0,r,s)};c.createContext=function(e){return e={$$typeof:ce,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ae,_context:e},e};c.createElement=function(e,t,n){var s,i={},r=null;if(t!=null)for(s in t.key!==void 0&&(r=""+t.key),t)Q.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=t[s]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)i[s]===void 0&&(i[s]=o[s]);return S(e,r,void 0,void 0,null,i)};c.createRef=function(){return{current:null}};c.forwardRef=function(e){return{$$typeof:le,render:e}};c.isValidElement=I;c.lazy=function(e){return{$$typeof:U,_payload:{_status:-1,_result:e},_init:ge}};c.memo=function(e,t){return{$$typeof:de,type:e,compare:t===void 0?null:t}};c.startTransition=function(e){var t=p.T,n={};p.T=n;try{var s=e(),i=p.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(me,H)}catch(r){H(r)}finally{p.T=t}};c.unstable_useCacheRefresh=function(){return p.H.useCacheRefresh()};c.use=function(e){return p.H.use(e)};c.useActionState=function(e,t,n){return p.H.useActionState(e,t,n)};c.useCallback=function(e,t){return p.H.useCallback(e,t)};c.useContext=function(e){return p.H.useContext(e)};c.useDebugValue=function(){};c.useDeferredValue=function(e,t){return p.H.useDeferredValue(e,t)};c.useEffect=function(e,t,n){var s=p.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};c.useId=function(){return p.H.useId()};c.useImperativeHandle=function(e,t,n){return p.H.useImperativeHandle(e,t,n)};c.useInsertionEffect=function(e,t){return p.H.useInsertionEffect(e,t)};c.useLayoutEffect=function(e,t){return p.H.useLayoutEffect(e,t)};c.useMemo=function(e,t){return p.H.useMemo(e,t)};c.useOptimistic=function(e,t){return p.H.useOptimistic(e,t)};c.useReducer=function(e,t,n){return p.H.useReducer(e,t,n)};c.useRef=function(e){return p.H.useRef(e)};c.useState=function(e){return p.H.useState(e)};c.useSyncExternalStore=function(e,t,n){return p.H.useSyncExternalStore(e,t,n)};c.useTransition=function(){return p.H.useTransition()};c.version="19.1.1";D.exports=c;var w=D.exports;/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ke=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),O=e=>{const t=ke(e);return t.charAt(0).toUpperCase()+t.slice(1)},V=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),be=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var we={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...u},l)=>w.createElement("svg",{ref:l,...we,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:V("lucide",i),...!r&&!be(u)&&{"aria-hidden":"true"},...u},[...o.map(([h,x])=>w.createElement(h,x)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,t)=>{const n=w.forwardRef(({className:s,...i},r)=>w.createElement(Ce,{ref:r,iconNode:t,className:V(`lucide-${ye(O(e))}`,`lucide-${e}`,s),...i}));return n.displayName=O(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],xe=Le("heart",Ee),_e={Heart:xe},a={currentTab:"home",searchQuery:"",activeCategory:"all",quickFilters:{"quick-time":!1,easy:!1,vegan:!1},favorites:[],shoppingList:[],servings:{},detailRecipeId:null},v={get:(e,t=null)=>{try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch{return t}},set:(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch{}}};a.currentTab=v.get("lastTab","home");a.favorites=v.get("favorites",[]);a.shoppingList=v.get("shoppingList",[]);a.servings=v.get("servings",{});const d=e=>document.querySelector(e),g=e=>document.querySelectorAll(e),Be=(e,t=200)=>{let n;return(...s)=>{clearTimeout(n),n=setTimeout(()=>e.apply(null,s),t)}},W=(e,t,n)=>{const s=e*n/t;return Math.round(s*4)/4},G=(e,t)=>e===1&&t==="pcs"?"1 pc":e<1&&t==="cup"?`${e*16} tbsp`:e<.25&&t==="tbsp"?`${e*3} tsp`:`${e} ${t}`,y={currentRoute:null,init(){window.addEventListener("hashchange",this.handleRoute.bind(this)),this.handleRoute()},handleRoute(){const e=window.location.hash.slice(1)||"home",[t,n]=e.split("/");if(this.currentRoute={route:t,param:n},["home","favorites","list","profile"].includes(t)&&(a.currentTab=t,v.set("lastTab",t),this.updateActiveTab()),t==="recipe"&&n){a.detailRecipeId=parseInt(n),this.openRecipeDetail(a.detailRecipeId);return}a.detailRecipeId&&this.closeRecipeDetail(),this.renderCurrentView()},updateActiveTab(){g(".nav-item").forEach(e=>{e.classList.toggle("active",e.dataset.tab===a.currentTab)})},navigate(e){window.location.hash=e},openRecipeDetail(e){a.detailRecipeId=e;const t=d("#detail-overlay");t.classList.add("visible"),t.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden"},closeRecipeDetail(){a.detailRecipeId=null;const e=d("#detail-overlay");e.classList.remove("visible"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="",this.navigate(a.currentTab)},renderCurrentView(){const e=d("#main-content");switch(a.currentTab){case"home":f.currentPage=1,f.renderRecipeList();break;case"favorites":f.renderFavorites();break;case"list":Z.renderShoppingList();break;case"profile":e.innerHTML=`
          <div style="text-align: center; padding: 40px 20px;">
            <div class="empty-icon">${this.renderUserIcon()}</div>
            <h2>Profile</h2>
            <p style="color: var(--muted);">Coming soon...</p>
          </div>
        `;break}},renderUserIcon(){return'<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>'}},f={currentPage:1,itemsPerPage:6,filterRecipes(e){let t=[...e];if(a.searchQuery){const n=a.searchQuery.toLowerCase();t=t.filter(s=>s.title.toLowerCase().includes(n)||s.ingredients.some(i=>i.name.toLowerCase().includes(n)))}return a.activeCategory!=="all"&&(t=t.filter(n=>a.activeCategory==="quick"?n.timeMinutes<=30:n.categories.includes(a.activeCategory)||n.tags.includes(a.activeCategory))),a.quickFilters["quick-time"]&&(t=t.filter(n=>n.timeMinutes<30)),a.quickFilters.easy&&(t=t.filter(n=>n.difficulty==="easy")),a.quickFilters.vegan&&(t=t.filter(n=>n.tags.includes("vegan"))),t},renderStars(e){const t=Math.floor(e),n=e%1>=.5;let s="";for(let i=0;i<5;i++)i<t?s+='<span class="star filled">★</span>':i===t&&n?s+='<span class="star half">★</span>':s+='<span class="star empty">☆</span>';return s},renderRecipeCard(e){const t=a.favorites.includes(e.id),n=this.renderStars(e.rating);return`
      <div class="recipe-card" data-recipe-id="${e.id}">
        <div class="recipe-thumb">
          <img src="${e.imageUrl}" alt="${e.title}" class="recipe-image" />
          <button class="heart-btn ${t?"favorited":""}" 
                  data-recipe-id="${e.id}" 
                  aria-label="${t?"Remove from favorites":"Add to favorites"}">
            <div class="heart-icon ${t?"filled":"empty"}">${this.renderIcon(_e.Heart)}</div>
          </button>
        </div>
        <div class="recipe-info">
          <h3 class="recipe-title">${e.title}</h3>
          <div class="recipe-meta">
            <div class="rating">${n}</div>
            <div>${e.timeMinutes}min • ${e.difficulty}</div>
          </div>
        </div>
      </div>
    `},renderIcon(e){const t=document.createElement("div");return t.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg>',t.innerHTML},renderRecipeList(){const e=d("#main-content");L(async()=>{const{recipes:t}=await Promise.resolve().then(()=>C);return{recipes:t}},void 0).then(({recipes:t})=>{const n=this.filterRecipes(t),s=n.length,i=this.currentPage*this.itemsPerPage,r=n.slice(0,i);if(n.length===0){e.innerHTML=`
          <div style="text-align: center; padding: 40px 20px;">
            <div class="empty-icon">${this.renderSearchIcon()}</div>
            <h2>No recipes found</h2>
            <p style="color: var(--muted);">Try adjusting your search or filters</p>
          </div>
        `;return}const o=r.map(h=>this.renderRecipeCard(h)).join(""),u=i<s;e.innerHTML=`
        <div class="recipe-grid">
          ${o}
        </div>
        ${u?`
          <div style="text-align: center; padding: 20px;">
            <button class="btn-primary" id="load-more">
              Load More (${s-i} remaining)
            </button>
          </div>
        `:""}
      `;const l=d("#load-more");l&&l.addEventListener("click",()=>{this.currentPage++,this.renderRecipeList()})})},renderFavorites(){const e=d("#main-content");if(a.favorites.length===0){e.innerHTML=`
        <div style="text-align: center; padding: 40px 20px;">
          <div class="empty-icon">${this.renderHeartIcon()}</div>
          <h2>No favorites yet</h2>
          <p style="color: var(--muted);">Heart some recipes to see them here</p>
        </div>
      `;return}L(async()=>{const{recipes:t}=await Promise.resolve().then(()=>C);return{recipes:t}},void 0).then(({recipes:t})=>{const s=t.filter(i=>a.favorites.includes(i.id)).map(i=>this.renderRecipeCard(i)).join("");e.innerHTML=`
        <div class="recipe-grid">
          ${s}
        </div>
      `})},renderSearchIcon(){return'<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>'},renderHeartIcon(){return'<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>'}},K={renderRecipeDetail(e){L(async()=>{const{recipes:t}=await Promise.resolve().then(()=>C);return{recipes:t}},void 0).then(({recipes:t})=>{const n=t.find(u=>u.id===e);if(!n)return;const s=a.servings[e]||n.servingsBase,i=a.favorites.includes(e),r=f.renderStars(n.rating),o=d("#detail-content");o.innerHTML=`
        <div class="detail-header">
          <button class="close-btn" aria-label="Close recipe details">
            ${this.renderCloseIcon()}
          </button>
          <div class="detail-thumb">
            <img src="${n.imageUrl}" alt="${n.title}" class="detail-image" />
          </div>
          <h2 class="detail-title">${n.title}</h2>
          <div class="detail-meta">
            <div class="rating">${r}</div>
            <div>${n.timeMinutes}min • ${n.difficulty}</div>
            <div>${n.calories} cal</div>
          </div>
        </div>
        
        <div class="detail-body">
          <div class="servings-section">
            <h3>Servings</h3>
            <div class="servings-stepper">
              <button class="stepper-btn" data-action="decrease" ${s<=1?"disabled":""}>
                ${this.renderMinusIcon()}
              </button>
              <span class="servings-count">${s}</span>
              <button class="stepper-btn" data-action="increase" ${s>=12?"disabled":""}>
                ${this.renderPlusIcon()}
              </button>
            </div>
          </div>
          
          <div class="ingredients-section">
            <h3>Ingredients</h3>
            <ul class="ingredients-list">
              ${this.renderScaledIngredients(n,s)}
            </ul>
          </div>
          
          <div class="steps-section">
            <h3>Instructions</h3>
            <ol class="steps-list">
              ${n.steps.map(u=>`<li>${u}</li>`).join("")}
            </ol>
          </div>
          
          <div class="detail-actions">
            <button class="btn-secondary" id="add-to-list-btn">
              ${this.renderListIcon()} Add all to Shopping List
            </button>
            <button class="btn-primary ${i?"favorited":""}" id="favorite-btn">
              ${this.renderHeartIcon()} ${i?"Favorited":"Favorite"}
            </button>
          </div>
        </div>
      `,this.bindDetailEvents(e)})},renderCloseIcon(){return'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>'},renderRecipeIcon(e){return'<svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z"/><line x1="6" y1="17" x2="18" y2="17"/></svg>'},renderMinusIcon(){return'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/></svg>'},renderPlusIcon(){return'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>'},renderListIcon(){return'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>'},renderHeartIcon(){return'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>'},renderScaledIngredients(e,t){return e.ingredients.map(n=>{const s=W(n.quantityBase,e.servingsBase,t);return`<li>${G(s,n.unit)} ${n.name}</li>`}).join("")},bindDetailEvents(e){const t=d(".close-btn");t&&t.addEventListener("click",()=>y.closeRecipeDetail()),g(".stepper-btn").forEach(r=>{r.addEventListener("click",()=>{const o=r.dataset.action;this.updateServings(e,o)})});const s=d("#favorite-btn");s&&s.addEventListener("click",()=>{B.toggleFavorite(e),this.renderRecipeDetail(e)});const i=d("#add-to-list-btn");i&&i.addEventListener("click",()=>{Z.addRecipeToList(e)})},updateServings(e,t){L(async()=>{const{recipes:n}=await Promise.resolve().then(()=>C);return{recipes:n}},void 0).then(({recipes:n})=>{const s=n.find(o=>o.id===e);if(!s)return;const i=a.servings[e]||s.servingsBase;let r=i;if(t==="increase"&&i<12?r=i+1:t==="decrease"&&i>1&&(r=i-1),r!==i){a.servings[e]=r,v.set("servings",a.servings);const o=d(".servings-count"),u=d(".ingredients-list"),l=d('.stepper-btn[data-action="decrease"]'),h=d('.stepper-btn[data-action="increase"]');o&&(o.textContent=r),u&&(u.innerHTML=this.renderScaledIngredients(s,r)),l&&(l.disabled=r<=1),h&&(h.disabled=r>=12)}})}};y.openRecipeDetail=function(e){a.detailRecipeId=e;const t=d("#detail-overlay");t.classList.add("visible"),t.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",K.renderRecipeDetail(e)};const Re={toggleFavorite(e){const t=a.favorites.indexOf(e);t===-1?a.favorites.push(e):a.favorites.splice(t,1),v.set("favorites",a.favorites),this.updateFavoriteButtons(e),a.currentTab==="favorites"&&f.renderFavorites()},updateFavoriteButtons(e){const t=a.favorites.includes(e);g(`[data-recipe-id="${e}"].heart-btn`).forEach(i=>{i.classList.toggle("favorited",t);const r=i.querySelector(".heart-icon");r&&(r.classList.toggle("filled",t),r.classList.toggle("empty",!t)),i.setAttribute("aria-label",t?"Remove from favorites":"Add to favorites")});const s=d("#favorite-btn");s&&(s.classList.toggle("favorited",t),s.innerHTML=`${K.renderHeartIcon()} ${t?"Favorited":"Favorite"}`)}},Z={addRecipeToList(e){L(async()=>{const{recipes:t}=await Promise.resolve().then(()=>C);return{recipes:t}},void 0).then(({recipes:t})=>{const n=t.find(i=>i.id===e);if(!n)return;const s=a.servings[e]||n.servingsBase;n.ingredients.forEach(i=>{const r=W(i.quantityBase,n.servingsBase,s);this.addIngredientToList(i.name,r,i.unit)}),v.set("shoppingList",a.shoppingList),this.showAddedFeedback()})},addIngredientToList(e,t,n){const s=a.shoppingList.findIndex(i=>i.name.toLowerCase()===e.toLowerCase()&&i.unit===n);s!==-1?a.shoppingList[s].quantity+=t:a.shoppingList.push({id:Date.now()+Math.random(),name:e,quantity:t,unit:n,checked:!1})},toggleItemCheck(e){const t=a.shoppingList.find(n=>n.id===e);t&&(t.checked=!t.checked,v.set("shoppingList",a.shoppingList),this.renderShoppingList())},clearCheckedItems(){a.shoppingList=a.shoppingList.filter(e=>!e.checked),v.set("shoppingList",a.shoppingList),this.renderShoppingList()},clearAllItems(){a.shoppingList=[],v.set("shoppingList",a.shoppingList),this.renderShoppingList()},renderShoppingList(){const e=d("#main-content");if(a.shoppingList.length===0){e.innerHTML=`
        <div style="text-align: center; padding: 40px 20px;">
          <div class="empty-icon">${this.renderListIconLarge()}</div>
          <h2>Shopping List Empty</h2>
          <p style="color: var(--muted);">Add ingredients from recipes to get started</p>
        </div>
      `;return}const t=a.shoppingList.filter(i=>i.checked).length,n=a.shoppingList.length,s=a.shoppingList.map(i=>`
      <div class="shopping-item ${i.checked?"checked":""}" data-item-id="${i.id}">
        <button class="check-btn" aria-label="${i.checked?"Uncheck":"Check"} ${i.name}">
          ${i.checked?this.renderCheckIcon():this.renderCircleIcon()}
        </button>
        <div class="item-info">
          <span class="item-name">${i.name}</span>
          <span class="item-quantity">${G(i.quantity,i.unit)}</span>
        </div>
      </div>
    `).join("");e.innerHTML=`
      <div class="shopping-header">
        <h2>Shopping List</h2>
        <div class="shopping-progress">
          ${t} of ${n} items
        </div>
      </div>
      
      <div class="shopping-actions">
        <button class="btn-secondary" id="clear-checked-btn" ${t===0?"disabled":""}>
          Clear Checked (${t})
        </button>
        <button class="btn-danger" id="clear-all-btn">
          Clear All
        </button>
      </div>
      
      <div class="shopping-list">
        ${s}
      </div>
    `,this.bindShoppingListEvents()},bindShoppingListEvents(){g(".check-btn").forEach(s=>{s.addEventListener("click",i=>{const r=parseInt(i.target.closest(".shopping-item").dataset.itemId);this.toggleItemCheck(r)})});const t=d("#clear-checked-btn");t&&t.addEventListener("click",()=>this.clearCheckedItems());const n=d("#clear-all-btn");n&&n.addEventListener("click",()=>{confirm("Clear all items from shopping list?")&&this.clearAllItems()})},renderListIconLarge(){return'<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>'},renderCheckIcon(){return'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22,4 12,14.01 9,11.01"/></svg>'},renderCircleIcon(){return'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/></svg>'},showAddedFeedback(){const e=d("#add-to-list-btn");if(e){const t=e.innerHTML;e.innerHTML="✅ Added to List!",e.disabled=!0,setTimeout(()=>{e.innerHTML=t,e.disabled=!1},2e3)}}},B={init(){this.bindSearch(),this.bindCategoryChips(),this.bindQuickFilters(),this.bindBottomNav(),this.bindRecipeCards(),this.bindDetailOverlay(),this.initializeIcons(),this.loadSavedState(),y.init()},bindSearch(){const e=d("#search");if(e){const t=Be(n=>{a.searchQuery=n,f.currentPage=1,a.currentTab==="home"&&f.renderRecipeList()});e.addEventListener("input",n=>{t(n.target.value.trim())})}},bindCategoryChips(){const e=g(".chip");e.forEach(t=>{t.addEventListener("click",()=>{e.forEach(n=>n.classList.remove("active")),t.classList.add("active"),a.activeCategory=t.dataset.category,f.currentPage=1,a.currentTab==="home"&&f.renderRecipeList()})})},bindQuickFilters(){g(".filter-toggle").forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.filter;a.quickFilters[n]=!a.quickFilters[n],t.classList.toggle("active",a.quickFilters[n]),f.currentPage=1,a.currentTab==="home"&&f.renderRecipeList()})})},bindBottomNav(){g(".nav-item").forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.tab;y.navigate(n)})})},bindRecipeCards(){d("#main-content").addEventListener("click",t=>{const n=t.target.closest(".recipe-card");if(n&&!t.target.closest(".heart-btn")){const i=parseInt(n.dataset.recipeId);y.navigate(`recipe/${i}`);return}const s=t.target.closest(".heart-btn");if(s){t.stopPropagation();const i=parseInt(s.dataset.recipeId);this.toggleFavorite(i);return}})},bindDetailOverlay(){const e=d("#detail-overlay");e.addEventListener("click",t=>{t.target===e&&y.closeRecipeDetail()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&a.detailRecipeId&&y.closeRecipeDetail()})},toggleFavorite(e){Re.toggleFavorite(e)},loadSavedState(){const e=d(`.chip[data-category="${a.activeCategory}"]`);e&&(g(".chip").forEach(t=>t.classList.remove("active")),e.classList.add("active")),Object.entries(a.quickFilters).forEach(([t,n])=>{const s=d(`.filter-toggle[data-filter="${t}"]`);s&&s.classList.toggle("active",n)})},initializeIcons(){const e={home:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9,22 9,12 15,12 15,22"/></svg>',heart:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>',list:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>',user:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>'},t={clock:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/></svg>',check:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22,4 12,14.01 9,11.01"/></svg>',leaf:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>'};g(".nav-icon").forEach(n=>{const s=n.dataset.icon;e[s]&&(n.innerHTML=e[s])}),g(".filter-icon").forEach(n=>{const s=n.dataset.icon;t[s]&&(n.innerHTML=t[s])})}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>B.init()):B.init();
